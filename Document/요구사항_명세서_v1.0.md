### **RentalWeb 요구사항 명세서 (v1.0)**

**1. 개요 (Overview)**

본 문서는 'RentalWeb' 서비스 구축에 필요한 기능적, 비기능적 요구사항을 정의합니다. 이 문서는 개발팀과 기획자 간의 공통된 이해를 바탕으로 성공적인 프로젝트 수행을 목표로 합니다.

**2. 유스케이스 (Use Cases)**

사용자(User)와 관리자(Admin)의 주요 상호작용을 정의합니다.

| ID | 액터 | 유스케이스 | 설명 |
| :--- | :--- | :--- | :--- |
| UC-01 | 공통 | 회원가입 | 사용자가 시스템에 계정을 등록합니다. |
| UC-02 | 공통 | 로그인 | 사용자가 시스템에 로그인합니다. |
| UC-03 | 공통 | 아이디/비밀번호 찾기 | 사용자가 자신의 계정 정보를 찾습니다. |
| UC-04 | User | 회원정보 수정 | 사용자가 자신의 계정 정보를 변경합니다. |
| UC-05 | User | 회원 탈퇴 | 사용자가 시스템에서 탈퇴합니다. |
| UC-06 | 공통 | 물품 검색 | 키워드, 카테고리로 물품을 검색합니다. |
| UC-07 | User | 물품 상세 조회 | 특정 물품의 상세 정보를 확인합니다. |
| UC-08 | User | 물품 장바구니 담기 | 대여할 물품을 장바구니에 추가합니다. |
| UC-09 | User | 장바구니에서 대여 예약 | 장바구니에서 여러 물품의 대여 기간을 설정하고 한번에 예약합니다. |
| UC-10 | User | 예약 현황 조회 | 자신의 예약/대여 상태를 확인합니다. |
| UC-11 | User | 예약 취소 | '예약' 상태인 자신의 대여 건을 취소합니다. |
| UC-12 | Admin | 재고 관리 | 물품의 목록 및 재고를 관리합니다. (등록/수정/삭제) |
| UC-13 | Admin | 대여 상태 관리 | 사용자의 대여 상태('대여 중', '반납 완료' 등)를 수동으로 변경하고, 새 예약을 추가합니다. |
| UC-14 | Admin | 사용자 관리 | 관리자가 사용자의 목록을 조회하고 역할을 변경합니다. |


**3. 기능 요구사항 (Functional Requirements)**

유스케이스를 기반으로 시스템이 반드시 수행해야 하는 기능들을 상세히 기술합니다.

| ID | 요구사항 명 | 설명 |
| :--- | :--- | :--- |
| **사용자 관리 (계정)** |
| FR-01 | 회원가입 | 사용자는 아이디, 비밀번호, 이름, 학번, 단위, 전화번호로 가입할 수 있다.<br>- 단위(학과)는 드롭다운 목록에서 선택하며, '기타' 선택 시 직접 입력이 가능하다. (사유: 지정된 단위는 플로터 무료 사용 혜택 확인용)<br>- 회원가입 완료를 위해 SMS를 통한 전화번호 인증이 필수적이다. |
| FR-02 | ID 중복 확인 | 사용자가 ID 입력 후, 시스템은 자동으로 중복 여부를 검사한다.<br>- **유효성 규칙:** 아이디는 5~20자의 영문 소문자, 숫자만 사용 가능하다.<br>- **피드백:** 사용 가능 시 초록색, 불가능 시 빨간색으로 입력란 하단에 안내 메시지를 표시한다. |
| FR-03 | 로그인 | 가입된 아이디와 비밀번호로 시스템에 로그인할 수 있다.<br>- 로그인 성공 시, 서버는 세션 유지를 위한 **JWT(Access Token, Refresh Token)**를 발급한다.<br>- **5회 이상** 로그인 실패 시, 계정을 **10분간 잠금** 처리하여 무차별 대입 공격을 방지한다.<br>- 로그인 실패 시, "아이디 또는 비밀번호가 일치하지 않습니다." 라는 통일된 메시지를 표시한다. |
| FR-04 | 아이디/비밀번호 찾기 | 사용자는 가입 시 인증한 전화번호 등을 통해 자신의 계정 정보를 찾을 수 있다. |
| FR-05 | 회원정보 수정 | 사용자는 로그인 후 마이페이지 등에서 자신의 비밀번호, 전화번호, 단위 정보를 수정할 수 있다. |
| FR-06 | 회원 탈퇴 | 사용자는 본인 확인 절차를 거친 후 서비스에서 탈퇴할 수 있다. 탈퇴 시 개인정보 처리 방침을 안내해야 한다. |
| FR-07 | 역할 기반 접근 | 사용자는 역할(User/Admin)에 따라 접근할 수 있는 기능이 제한된다.<br>- **Admin 전용**: `FR-17` ~ `FR-23`<br>- **User 전용**: `FR-05`, `FR-06`, `FR-09` ~ `FR-16`<br>- **모든 사용자**: `FR-08` |
| **물품** |
| FR-08 | 물품 목록 조회 | 사용자는 모든 물품을 목록 형태로 볼 수 있다.<br>- 목록은 **페이지네이션**으로 제공하며, 사용자는 한 페이지에 표시할 물품 개수를 **10개, 20개, 50개** 중에서 선택할 수 있다.<br>- 사용자는 **최신순, 이름순, 인기순(대여 횟수)** 등 다양한 기준으로 목록을 정렬할 수 있다.<br>- 기본 정렬 순서는 **인기순**으로 한다. |
| FR-09 | 물품 검색 | 사용자는 이름 또는 카테고리로 원하는 물품을 검색할 수 있다.<br>- 이름 검색은 **부분 일치**를 지원한다. (예: '카메라' 검색 시 '디지털 카메라' 포함)<br>- 카테고리는 **다중 선택 필터링**을 지원한다.<br>- 검색 결과가 없는 경우, "검색 결과가 없습니다." 라는 메시지를 명확하게 표시한다. |
| FR-10 | 물품 상세 조회 | 사용자는 특정 물품의 상세 정보를 볼 수 있다.<br>- 페이지 상단에는 **물품의 이름, 총 재고 수량,** 그리고 현재 대여 가능한지 여부(**'대여 가능' / '모두 대여 중'**)가 표시된다.<br>- 페이지 본문은 관리자가 등록한 여러 이미지와 텍스트 설명이 순서대로 쭉 이어져 나오는 **단일 콘텐츠 영역**으로 구성된다. (홈쇼핑 사이트 스타일) |
| **대여 (장바구니 기반)** |
| FR-11 | 장바구니에 물품 추가 | 사용자는 물품 상세 페이지에서 원하는 수량을 선택하여 장바구니에 담을 수 있다. |
| FR-12 | 미니 장바구니 | 물품 상세 페이지 우측에는, 현재 장바구니에 담긴 물품 목록을 보여주는 **사이드바(미니 장바구니)**가 표시된다. |
| FR-13 | 장바구니 조회 및 수정 | 장바구니 페이지는 **왼쪽에 캘린더, 오른쪽에 담은 물품 목록**으로 구성된다.<br>- 사용자는 오른쪽 목록에서 각 물품의 수량을 조절하거나 삭제할 수 있다. |
| FR-14 | 대여 기간 선택 및 재고 확인 | 사용자가 장바구니의 **특정 품목을 클릭**하면, 왼쪽 캘린더의 내용이 해당 품목의 **날짜별 대여 가능 재고**를 보여주도록 즉시 업데이트된다.<br>- 사용자가 캘린더에서 대여 시작일과 반납일을 선택하면, 시스템은 해당 기간 동안 요청한 수량이 대여 가능한지 실시간으로 검증한다. 재고가 0개인 경우 예약은 불가능하다. |
| FR-15 | 대여 정보 확인 및 최종 확정 | 장바구니의 모든 품목에 대한 기간 선택이 완료되면 '대여 확정' 페이지로 이동할 수 있다.<br>- 이 페이지에서는 대여할 모든 물품과 선택한 기간이 요약되어 표시된다.<br>- 대여자의 정보(이름, 학번, 전화번호, 단위)가 계정 정보에서 자동으로 입력되며, 이 중 **'단위' 정보는 수정 가능**하다.<br>- 사용자가 '대여 확정' 버튼을 누르면, 장바구니에 있던 모든 품목에 대해 '예약' 상태의 대여 건들이 각각 생성된다. |
| **사용자 기능 (로그인 후)** |
| FR-16 | 대여 상태 알림 (SMS) | 주요 이벤트 발생 시, 외부 SMS 서비스와 연동하여 사용자에게 알림을 발송한다.<br>- **알림 종류**: 예약 완료 시, 반납일 하루 전, 연체 발생 시 등. |
| **관리자 기능** |
| FR-17 | 물품 관리 | 관리자는 물품을 등록, 수정, 삭제할 수 있다. |
| FR-18 | 대여 상태 관리 | 관리자는 시스템에서 대여 상태를 수동으로 변경할 수 있다.<br>- **수동 예약 추가**: 특정 사용자를 위해 새 예약을 생성한다.<br>- **'대여 중' 처리**: 사용자가 물품을 수령해갈 때, '예약' 상태를 '대여 중'으로 변경한다.<br>- **반납 처리**: 사용자가 물품을 반납하면, '대여 중' 상태를 '반납 완료'로 변경한다.<br>- **예약 취소**: 관리자가 특정 예약 건을 취소 처리할 수 있다. |
| FR-19 | 대여/예약 변경 이력 추적 | 모든 대여/예약 건의 상태 변경(생성, 취소, 상태 변경 등)은 별도의 이력으로 기록되어야 한다. 이 기록에는 **변경 시간, 변경 주체(사용자, 관리자 ID), 변경 내용**이 포함되어 문제 발생 시 추적이 가능해야 한다. |
| FR-20 | 사용자 목록 조회 | 관리자는 전체 사용자 목록을 이름, 학번 등으로 검색하고 조회할 수 있다. |
| FR-21 | 사용자 역할 변경 | 관리자는 특정 사용자의 역할을 'User' 또는 'Admin'으로 변경할 수 있다. |
| **정책 (추후 논의)** |
| FR-22 | 연체 정책 | 반납 예정일이 지난 '대여 중'인 건에 대한 처리 정책. (**상세 내용 추후 논의 필요**) |
| FR-23 | 물품 상태 관리 정책 | 물품의 파손/고장 시 상태를 추적하고 대여를 제한하는 기능. (**상세 내용 추후 논의 필요**) |

**4. 비기능 요구사항 (Non-functional Requirements)**

시스템의 품질, 성능, 보안 등 전반적인 제약 조건을 정의합니다.

| 분류 | 요구사항 | 설명 |
| :--- | :--- | :--- |
| **성능 (Performance)** |
| NFR-01 | API 응답 시간 | 일반적인 사용자 요청 API는 평균 2초 이내에 응답해야 한다. 단, 대용량 데이터 처리나 파일 생성 등 명백히 오래 걸리는 작업은 예외로 하며, 이 경우 사용자에게 작업이 진행 중임을 시각적으로 알려주어야 한다. |
| NFR-02 | 페이지 로드 시간 | 주요 페이지(메인, 목록)는 3초 이내에 완전히 로드되어야 한다. |
| **사용성 (Usability)** |
| NFR-03 | 반응형 웹 | 데스크톱, 태블릿, 모바일 등 다양한 화면 크기(해상도)에 대응하여 최적화된 UI를 제공해야 한다.<br>- 화면 크기에 따라 UI 배치 및 콘텐츠가 유연하게 조정되어야 한다. |
| NFR-04 | 직관적인 UI | 사용자는 별도의 학습 없이 서비스의 주요 기능을 쉽게 사용할 수 있어야 한다. |
| **보안 (Security)** |
| NFR-05 | 비밀번호 암호화 | 사용자의 비밀번호는 복호화가 불가능한 방식으로 암호화하여 저장해야 한다. |
| NFR-06 | 인증 및 인가 | 모든 API 요청은 인증(로그인 여부) 및 인가(권한 확인) 절차를 거쳐야 한다. |
| NFR-07 | 웹 취약점 방어 | SQL Injection, XSS 등 주요 웹 공격에 대한 기본적인 방어 로직을 갖추어야 한다. |
| **안정성 (Reliability)** |
| NFR-08 | 서비스 가용성 | 서비스는 99% 이상의 시간 동안 정상적으로 운영되어야 한다. (월 장애 7시간 미만) |
| **유지보수성 (Maintainability)** |
| NFR-09 | 코드 컨벤션 | 프로젝트는 일관된 코드 스타일과 명명 규칙을 따라야 한다. |
| NFR-10 | 로깅 | 주요 이벤트(에러, 사용자 활동)는 로그로 기록되어 문제 추적을 용이하게 해야 한다. |
